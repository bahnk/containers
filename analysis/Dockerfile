FROM ubuntu:21.04

RUN apt-get update
RUN apt-get --yes upgrade
RUN apt-get install --yes apt-utils

ARG DEBIAN_FRONTEND=noninteractive
ENV TZ=Europe/London
RUN apt-get install --yes tzdata

RUN apt-get install --yes less

RUN apt-get install --yes \
	python3-airr \
	python3-alignlib \
	python3-bcbio \
	python3-biopython \
	python3-biopython-sql \
	python3-biotools \
	python3-bitbucket-api \
	python3-cobra \
	python3-cppy \
	python3-cpuinfo \
	python3-cutadapt \
	python3-dateparser \
	python3-dateutil \
	python3-datrie \
	python3-deeptools \
	python3-deeptoolsintervals \
	python3-distance \
	python3-dmidecode \
	python3-dmidecode-dbg \
	python3-dna-jellyfish \
	python3-dnaio \
	python3-dnapilib \
	python3-edlib \
	python3-et-xmlfile \
	python3-geneimpacts \
	python3-genometools \
	python3-geopandas \
	python3-git \
	python3-git-os-job \
	python3-git-repo-updater \
	python3-gitdb \
	python3-github \
	python3-gitlab \
	python3-gnuplot \
	python3-gnuplotlib \
	python3-google-auth \
	python3-google-auth-httplib2 \
	python3-google-auth-oauthlib \
	python3-google-i18n-address \
	python3-googleapi \
	python3-googleapi-samples \
	python3-h5py \
	python3-h5py-dbg \
	python3-h5py-mpi \
	python3-h5py-mpi-dbg \
	python3-h5py-serial \
	python3-h5py-serial-dbg \
	python3-h5sparse \
	python3-html5-parser \
	python3-html5lib \
	python3-htseq \
	python3-ipy \
	python3-ipykernel \
	python3-ipyparallel \
	python3-ipython \
	python3-ipython-genutils \
	python3-ipywidgets \
	python3-jinja-vanish \
	python3-jinja2 \
	python3-jupyter-client \
	python3-jupyter-console \
	python3-jupyter-core \
	python3-jupyter-server \
	python3-jupyter-sphinx \
	python3-jupyter-sphinx-theme \
	python3-jupyterlab-pygments \
	python3-jupyterlab-server \
	python3-keras \
	python3-keras-applications \
	python3-keras-preprocessing \
	python3-libxml2 \
	python3-louvain \
	python3-lxml \
	python3-nanoget \
	python3-nanostat \
	python3-nb2plots \
	python3-nbclient \
	python3-nbconvert \
	python3-nbformat \
	python3-nbsphinx \
	python3-nbxmpp \
	python3-networkx \
	python3-ngs \
	python3-nmap \
	python3-notebook \
	python3-numpy \
	python3-oauth \
	python3-oauth2client \
	python3-oauthlib \
	python3-octave-kernel \
	python3-opencv \
	python3-opencv-apps \
	python3-opengl \
	python3-openssl \
	python3-osmapi \
	python3-pairtools \
	python3-pairtools-examples \
	python3-pandas \
	python3-pandas-lib \
	python3-pandocfilters \
	python3-pdfkit \
	python3-pdfminer \
	python3-pip \
	python3-pkg-resources \
	python3-pkgconfig \
	python3-pkginfo \
	python3-pybedtools \
	python3-pybigwig \
	python3-pydot \
	python3-pydot-ng \
	python3-pydotplus \
	python3-pyopencl \
	python3-pyopencl-dbg \
	python3-pyopencolorio \
	python3-pyqt5 \
	python3-pysam \
	python3-rna \
	python3-rpy2 \
	python3-rpy2 \
	python3-sbml \
	python3-sbml5 \
	python3-sbml5-doc \
	python3-scapy \
	python3-scikit-fmm \
	python3-scikit-rf \
	python3-scipy \
	python3-scipy-dbg \
	python3-scrapy \
	python3-seaborn \
	python3-simpy \
	python3-simpy3 \
	python3-skimage \
	python3-skimage-lib \
	python3-sklearn \
	python3-sklearn-lib \
	python3-sklearn-pandas \
	python3-termcolor \
	python3-urllib3 \
	python3-virtualenv \
	python3-virtualenv-clone \
	python3-xlrd \
	python3-xlsxwriter \
	python3-xmlschema \
	python3-xmltodict \
	python3-yaml \
	python3-yaml-dbg \
	python3.9-numpy \
	python3.9-samba

RUN apt-get install --yes "ipython3"
RUN apt-get install --yes "jupyter*"
RUN apt-get install --yes "pandoc*"
RUN apt-get install --yes "libtiff*"
RUN apt-get install --yes "opencv*"
RUN apt-get install --yes "libopencv*"
RUN apt-get install --yes "texlive"
RUN apt-get install --yes "snakemake"

RUN pip install upsetplot
RUN pip install umap-learn
RUN pip install leiden
RUN pip install leidenalg
RUN pip install anndata
RUN pip install scanpy
RUN pip install jupyter-book

RUN apt-get install --yes \
	bowtie \
	bowtie-examples \
	bowtie2 \
	bowtie2-examples \
	bwa \
	clustalo \
	clustalw \
	clustalx \
	cutadapt \
	fastqc \
	igv \
	kallisto \
	kallisto-examples \
	libpicard-java \
	libpicard-java-doc \
	libseqan2-dev \
	libseqan3-dev \
	multiqc \
	picard \
	picard-tools \
	python-htseq \
	python3-cutadapt \
	python3-htseq \
	rna-star \
	rsem \
	salmon \
	samtools \
	seqan-apps \
	seqan3-doc \
	seqtk \
	trimmomatic

RUN apt-get install --yes \
	r-base \
	r-base-core \
	r-base-core-dbg \
	r-base-dev \
	r-base-html \
	r-base-latex \
	r-bioc-annotationdbi \
	r-bioc-bioccheck \
	r-bioc-biocfilecache \
	r-bioc-biocgenerics \
	r-bioc-biocinstaller \
	r-bioc-biocneighbors \
	r-bioc-biocparallel \
	r-bioc-biomart \
	r-bioc-biostrings \
	r-bioc-complexheatmap \
	r-bioc-deseq \
	r-bioc-deseq2 \
	r-bioc-dexseq \
	r-bioc-edger \
	r-bioc-genomicranges \
	r-bioc-geoquery \
	r-bioc-glmgampoi \
	r-bioc-go.db \
	r-bioc-hdf5array \
	r-bioc-hilbertvis \
	r-bioc-iranges \
	r-bioc-keggrest \
	r-bioc-limma \
	r-bioc-monocle \
	r-bioc-org.hs.eg.db \
	r-bioc-rhdf5 \
	r-bioc-rhdf5filters \
	r-bioc-rhdf5lib \
	r-bioc-rsamtools \
	r-bioc-rtracklayer \
	r-bioc-rwikipathways \
	r-bioc-s4vectors \
	r-bioc-scater \
	r-bioc-scran \
	r-bioc-scrnaseq \
	r-bioc-scuttle \
	r-bioc-singlecellexperiment \
	r-bioc-singler \
	r-bioc-sparsematrixstats \
	r-bioc-summarizedexperiment \
	r-bioc-tcgabiolinks \
	r-bioc-tfbstools \
	r-bioc-tximport \
	r-cran-argparse \
	r-cran-argparser \
	r-cran-bibtex \
	r-cran-bookdown \
	r-cran-cairo \
	r-cran-cairodevice \
	r-cran-colorspace \
	r-cran-colourpicker \
	r-cran-combinat \
	r-cran-cowplot \
	r-cran-curl \
	r-cran-data.table \
	r-cran-date \
	r-cran-dbi \
	r-cran-dbitest \
	r-cran-dbplyr \
	r-cran-dendextend \
	r-cran-densityclust \
	r-cran-devtools \
	r-cran-dplyr \
	r-cran-fit.models \
	r-cran-forcats \
	r-cran-ggalluvial \
	r-cran-ggally \
	r-cran-gganimate \
	r-cran-ggbeeswarm \
	r-cran-ggdendro \
	r-cran-ggeffects \
	r-cran-ggforce \
	r-cran-ggm \
	r-cran-ggplot.multistats \
	r-cran-ggplot2 \
	r-cran-ggpubr \
	r-cran-ggraph \
	r-cran-ggrepel \
	r-cran-ggridges \
	r-cran-ggsci \
	r-cran-ggseqlogo \
	r-cran-ggsignif \
	r-cran-ggthemes \
	r-cran-ggvis \
	r-cran-glmmtmb \
	r-cran-glmnet \
	r-cran-gridbase \
	r-cran-gridextra \
	r-cran-gridgraphics \
	r-cran-gridsvg \
	r-cran-gridtext \
	r-cran-grimport2 \
	r-cran-hdf5 \
	r-cran-hdf5r \
	r-cran-htmltable \
	r-cran-htmltools \
	r-cran-htmlwidgets \
	r-cran-irkernel \
	r-cran-irlba \
	r-cran-itertools \
	r-cran-jpeg \
	r-cran-jsonlite \
	r-cran-knitr \
	r-cran-lattice \
	r-cran-latticeextra \
	r-cran-leiden \
	r-cran-lme4 \
	r-cran-lmertest \
	r-cran-lmtest \
	r-cran-locfit \
	r-cran-markdown \
	r-cran-markovchain \
	r-cran-matrixmodels \
	r-cran-matrixstats \
	r-cran-mclust \
	r-cran-mcmc \
	r-cran-mcmcpack \
	r-cran-modeldata \
	r-cran-modelmetrics \
	r-cran-modeltools \
	r-cran-nlme \
	r-cran-openssl \
	r-cran-openxlsx \
	r-cran-optparse \
	r-cran-pheatmap \
	r-cran-pkgbuild \
	r-cran-pkgcond \
	r-cran-pkgconfig \
	r-cran-pkgkitten \
	r-cran-pkgload \
	r-cran-pkgmaker \
	r-cran-plotly \
	r-cran-plyr \
	r-cran-png \
	r-cran-poissonbinomial \
	r-cran-purrr \
	r-cran-purrrlyr \
	r-cran-purrrogress \
	r-cran-r.utils \
	r-cran-randomfields \
	r-cran-randomfieldsutils \
	r-cran-randomforest \
	r-cran-randomglm \
	r-cran-ranger \
	r-cran-rcolorbrewer \
	r-cran-rcpp \
	r-cran-rcppannoy \
	r-cran-rcpparmadillo \
	r-cran-rcppcctz \
	r-cran-rcppdate \
	r-cran-rcppeigen \
	r-cran-rcppgsl \
	r-cran-rcpphnsw \
	r-cran-rcppmlpack \
	r-cran-rcppparallel \
	r-cran-rcppprogress \
	r-cran-rcpproll \
	r-cran-rcurl \
	r-cran-readr \
	r-cran-readxl \
	r-cran-reshape \
	r-cran-reshape2 \
	r-cran-rjava \
	r-cran-rjson \
	r-cran-rlang \
	r-cran-rmarkdown \
	r-cran-rsqlite \
	r-cran-rsvg \
	r-cran-rtsne \
	r-cran-scatterd3 \
	r-cran-scatterplot3d \
	r-cran-sctransform \
	r-cran-seurat \
	r-cran-seuratobject \
	r-cran-shiny \
	r-cran-shinybs \
	r-cran-shinycssloaders \
	r-cran-shinydashboard \
	r-cran-shinyfiles \
	r-cran-shinyjs \
	r-cran-shinystan \
	r-cran-shinythemes \
	r-cran-stringi \
	r-cran-stringr \
	r-cran-survival \
	r-cran-survminer \
	r-cran-survmisc \
	r-cran-svglite \
	r-cran-tensor \
	r-cran-tibble \
	r-cran-tidygraph \
	r-cran-tidyr \
	r-cran-tidyselect \
	r-cran-tidyverse \
	r-cran-tiff \
	r-cran-tikzdevice \
	r-cran-timedate \
	r-cran-timereg \
	r-cran-timeseries \
	r-cran-tsne \
	r-cran-udunits2 \
	r-cran-upsetr \
	r-cran-venndiagram \
	r-cran-vioplot \
	r-cran-viridis \
	r-cran-viridislite \
	r-cran-xml \
	r-cran-xml2 \
	r-cran-xslt \
	r-cran-xtable \
	r-cran-yaml \
	r-cran-zip \
	r-doc-html \
	r-doc-info \
	r-doc-pdf

RUN R -e "BiocManager::install('org.Mm.eg.db')"
RUN R -e "IRkernel::installspec(prefix='/usr/local')"

